<?xml version="1.0" encoding="UTF-8"?>
<queries>

    <geCLPApiHistoryList type="sql">
        <![CDATA[
            select
            API_HISTORY_ID as apiHistoryId,
            API_NAME as apiName,
            API_REQUEST_PARAMS as apiRequestParams,
            API_RESPONSE_VALUES as apiResponseValues,
            API_RESPONSE_STATUS as apiResponseStatus,
            API_MEDIA_TYPE as apiMediaType,
            API_FILE_NAME as apiFileName,
            API_FILE_PATH as apiFilePath,
            CREATE_USER as createUser,
            CREATE_DATE as createDate,
            LAST_UPD_USER as lastUpdUser,
            LAST_UPD_DATE as lastUpdDate

            from CLP_API_HISTORY
            where 1=1
            <#if createUser?? && createUser !!=''>
	            and CREATE_USER =:createUser
            </#if>
            <#if apiName?? && apiName !!=''>
	            and API_NAME=:apiName
            </#if>
            <#if createDateFrom?? && createDateFrom !!='' &&  createDateTo??  && createDateTo!!=''>
                and CREATE_DATE between :createDateFrom and :createDateTo
            <#else>
                <#if createDateFrom?? && createDateFrom !!=''>
	                and CREATE_DATE >= :createDateFrom
                </#if>

                <#if createDateTo?? && createDateTo !!=''>
	                and CREATE_DATE <= :createDateTo
                </#if>
            </#if>
        ]]>
    </geCLPApiHistoryList>

</queries>
