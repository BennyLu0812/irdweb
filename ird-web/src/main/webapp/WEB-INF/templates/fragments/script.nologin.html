<script th:src="@{'~'+${webPrefix}+'/assets/bower/bluebird/bluebird.min.js'}"></script>
<script th:src="@{'~'+${webPrefix}+'/assets/bower/requirejs/require.js'}" type="text/javascript" crossorigin="anonymous"></script>
<script th:src="@{'~'+${webPrefix}+'/assets/static/js/requirejs.config.js'}" type="text/javascript" crossorigin="anonymous"></script>


<script type="text/javascript" th:inline="javascript">
/*<![CDATA[*/        
//contextPath
var basePath = [[${#request.getContextPath()}]];

var webPrefix = [[${webPrefix}]];

//locale
var _LOCALE = [[${#locale}]];
//ç³»çµ±åœ‹éš›åŒ–å¤šèªžè¨€
var _LANGUAGE;
if (_LOCALE == 'zh_TW') {
    _LANGUAGE = 'zh_TW';
} else{
    _LANGUAGE = 'en';
}


//ç¶²ç«™æ‰€è™•æ¨¡å¼� dev æ˜¯é–‹ç™¼è€…æ¨¡å¼�.
var websiteModel = [[${#request.getAttribute('$websiteModel$')}]];

String.format = function() {
    if (arguments.length == 0) {
        return null;
    }
    var str = arguments[0];
    for (var i = 1; i < arguments.length; i++) {
        var reg = new RegExp('\\{' + (i - 1) + '\\}', 'gm');
        str = str.replace(reg, arguments[i]);
    }
    return str;
};

/*]]>*/
</script>